import{c as j}from"./config.d00feac5.js";import{F as b,a as N,s as h,b as w,h as d,c as v,p as y}from"./index.1158b54c.js";import{r}from"./index.c35d1a06.js";import{j as e}from"./jsx-runtime.6a0dbaeb.js";import"./marked.esm.31d00c4e.js";const{summary_length:S,blog_folder:u}=j.settings,C=({searchList:m})=>{const c=r.useRef(null),[t,i]=r.useState(""),[n,g]=r.useState([]),f=a=>{i(a.currentTarget.value)},x=new b(m,{keys:["data.title","data.categories","data.tags"],includeMatches:!0,minMatchCharLength:3,threshold:.5});return r.useEffect(()=>{const s=new URLSearchParams(window.location.search).get("q");s&&i(s),setTimeout(function(){c.current.selectionStart=c.current.selectionEnd=s?.length||0},50)},[]),r.useEffect(()=>{let a=t.length>2?x.search(t):[];if(g(a),t.length>0){const s=new URLSearchParams(window.location.search);s.set("q",t);const l=window.location.pathname+"?"+s.toString();history.pushState(null,"",l)}else history.pushState(null,"",window.location.pathname)},[t]),e.jsx("section",{className:"section-sm",children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"row mb-10 justify-center",children:e.jsx("div",{className:"lg:col-8",children:e.jsxs("div",{className:"flex flex-nowrap",children:[e.jsx("input",{className:"form-input rounded-r-none",placeholder:"Search Posts Here",type:"search",name:"search",value:t,onChange:f,autoComplete:"off",autoFocus:!0,ref:c}),e.jsx("button",{className:"btn btn-primary rounded-l-none",type:"submit",children:e.jsx(N,{})})]})})}),e.jsx("div",{className:"row",children:n?.length<1?e.jsxs("div",{className:"mx-auto pt-5 text-center",children:[e.jsx("img",{className:"mx-auto mb-6",src:"/images/no-search-found.png",alt:"no-search-found"}),e.jsx("h1",{className:"h2 mb-4",children:t.length<1?"Search Post Here":"No Search Found!"}),e.jsx("p",{children:t.length<1?"Search for posts by title, category, or tag.":"We couldn't find what you searched for. Try searching again."})]}):n?.map(({item:a},s)=>{var l;return e.jsx("div",{className:"mb-12 md:col-6 lg:col-4",children:e.jsxs("div",{className:"bg-body dark:bg-darkmode-body",children:[a.data.image&&e.jsx("img",{className:"mb-6 w-full rounded",src:a.data.image,alt:a.data.title,width:445,height:230}),e.jsx("h4",{className:"mb-3",children:e.jsx("a",{href:`/${u}/${a.slug}`,children:a.data.title})}),e.jsxs("ul",{className:"mb-4",children:[e.jsx("li",{className:"mr-4 inline-block",children:e.jsxs("a",{href:`/authors/${h(a.data.author)}`,children:[e.jsx(w,{className:"-mt-1 mr-2 inline-block"}),d(a.data.author)]})}),e.jsxs("li",{className:"mr-4 inline-block",children:[e.jsx(v,{className:"-mt-1 mr-2 inline-block"}),a.data.categories.map((o,p)=>e.jsxs("a",{href:`/categories/${h(o)}`,children:[d(o),p!==a.data.categories.length-1&&", "]},o))]})]}),e.jsx("p",{className:"mb-6",children:y((l=a.content)==null?void 0:l.slice(0,Number(S)))}),e.jsx("a",{className:"btn btn-outline-primary btn-sm",href:`/${u}/${a.slug}`,children:"read more"})]})},`search-${s}`)})})]})})};export{C as default};
